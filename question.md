[toc]
### 消息队列 和 事件驱动的场景区别以及最佳实践。
- [消息队列 和 事件驱动的场景区别以及最佳实践。](#消息队列-和-事件驱动的场景区别以及最佳实践)
  - [边界](#边界)
  - [消息队列最佳实践](#消息队列最佳实践)
  - [命名与初始化](#命名与初始化)
  - [通道管理](#通道管理)
  - [使用困惑](#使用困惑)
- [oauth2](#oauth2)
- [网关](#网关)
  - [负载均衡](#负载均衡)
    - [nginx 负载均衡](#nginx-负载均衡)
    - [微服务负载均衡](#微服务负载均衡)
- [数据分析](#数据分析)

#### 边界

在一些场景中，既能使用**消息队列** 也能使用**事件驱动**，他们之间的插件主要代表为**Rabbitmq** 和 **kafka**。他们之间的边界如何界定，当一个场景使用两种方式都能够完成的时候，应该从哪些角度，哪些方向来衡量选择权重？

#### 消息队列最佳实践

#### 命名与初始化

基于`amqp` 协议的`rabbitmq` ，它的的最佳实践方式是？ 它的模型与`oop` 模型应该如何映射才能让程序具有良好的**扩展性**，**可移植性** 以及**足够清晰明了**。比如`exchage` 的命名方式？如何确认需要一个新的`exchange`，它应该以`pojo` 为准，还是以 `业务` 为准，他们的优势和劣势是什么？`queue` 应该如何命名？它应该以`pojo` 为准，还是以 `业务` 为准，他们的优势和劣势是什么？

#### 通道管理

公司内部使用的`spring integration` 来集成内部的消息和事件传递。这造成了消息通道 和 队列过多的情况。**外部通道(`topic`)** ，**桥接器**，**内部通道** 应该如何的进行规范管理。

#### 使用困惑

使用 **消息**  的概念让程序之间交流更加便利，耦合度也降低了很多。但耦合度降低也意味着程序变得异常**分散**。如何保证他们之间的聚合度？而不至于出现理解整个流程（应该由理解流程变为理解通道含义，但通道含义目前尚无法给出准确的定义，导致混乱） 和 修改业务（修改业务不应该困难，主要应该是通道业务没有抽象好，导致业务复用性很低）以及**测试**变得异常困难。

关于集合接口 和 单个接口。是否应该设置集合处理接口？他们的优势和劣势是什么？单个接口职责清晰，方便处理（包括异常传递），避免回滚....。集合接口方便客户端，但职责不清晰，副作用大（如果出现异常，是应该继续执行还是全部回滚？是使用多线程处理还是单线程？如果只需要处理一个，存在使用此接口的可能性）

### oauth2

`oauth2.1` 基于`spring security` 前后分离实现三方登录，是否有最佳实践。

### 网关

#### 负载均衡

##### nginx 负载均衡

`nginx` 可以提供负载均衡的能力，但是确无法检测自动下线。但一个节点被关闭的时候，依然会有流量被分配到这个节点。是否有好一点的解决办法？

##### 微服务负载均衡

微服务的负载均衡能力由**服务注册与发现** 协同完成，如果想使用微服务负载，是否不得不走网关。如果后台不提供网关功能，那也必须做一次转发才能够实现负载均衡？这种理解是否有问题？`spring cloud getaway` 是否有必要，和 `nginx` 存在哪些冲突 以及 补充了哪些部分？

### 数据分析

`java` 由于其`oop` 模型，不太适合计算类的程序。但存在一些**特性** 和 **框架**能让其更加方便的计算。比如`java8 stream` 以及 `kafka-streams` 能够让计算变得更加便利和简洁。除此之后，时候还有其他的**特性** 和 **框架** 能更加方便和简介，最好是轻量一点的。

除了`java` 之外，也会使用 `vba` 和 `python`以及`excel` 做一些数据分析。`excel` 的优势 是工具强大，分析简单，门槛低，UI界面友好。缺点是自动化太弱，结果难以复用等。`vba` 的优势是能非常方便的结合`excel` 来分析，弥补`excel` 自身自动化的不足，但分析繁琐，库少。`python` 的优势是能实现全自动，`pandas`,`numpy`等库足够强大，缺点是UI一般，需要一定门槛和熟练度。除此之外，还有其他的好的的分析语言或者工具吗？最好是性价比高一点，轻量一点的。


